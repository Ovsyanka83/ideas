<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Usage &mdash; ideas 0.0.34 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Create your first import hook" href="function_keyword.html" />
    <link rel="prev" title="Additional motivation for this project" href="motivation.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> ideas
          </a>
              <div class="version">
                0.0.34
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="motivation.html"> Additional motivation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#"> Usage</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#basic-usage">Basic usage</a></li>
<li class="toctree-l2"><a class="reference internal" href="#using-the-ideas-enabled-interactive-console">Using the ideas-enabled interactive console</a></li>
<li class="toctree-l2"><a class="reference internal" href="#using-with-ipython-or-jupyter-notebook-lab">Using with IPython or Jupyter notebook/lab</a></li>
<li class="toctree-l2"><a class="reference internal" href="#starting-from-a-standard-cpython-interpreter">Starting from a standard CPython interpreter</a></li>
<li class="toctree-l2"><a class="reference internal" href="#using-with-pypy">Using with Pypy</a></li>
<li class="toctree-l2"><a class="reference internal" href="#advanced-usage">Advanced usage</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="function_keyword.html"> Create your own import hook</a></li>
<li class="toctree-l1"><a class="reference internal" href="possible.html"> A deep dive</a></li>
<li class="toctree-l1"><a class="reference internal" href="guide.html"> Guide to the examples</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Source transformations</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="nobreak.html"> nobreak as a keyword</a></li>
<li class="toctree-l1"><a class="reference internal" href="repeat.html"> repeat as a keyword</a></li>
<li class="toctree-l1"><a class="reference internal" href="french.html"> French Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="french_repeat.html"> French repeat</a></li>
<li class="toctree-l1"><a class="reference internal" href="auto_self.html"> Auto-self</a></li>
<li class="toctree-l1"><a class="reference internal" href="decimal_math.html"> Decimal math</a></li>
<li class="toctree-l1"><a class="reference internal" href="fractional_math_tok.html"> Fractional math (token)</a></li>
<li class="toctree-l1"><a class="reference internal" href="switch.html"> Switch statement</a></li>
<li class="toctree-l1"><a class="reference internal" href="implicit_multiplication.html"> Implicit multiplication</a></li>
<li class="toctree-l1"><a class="reference internal" href="unnormalized_unicode.html"> Unnormalized unicode</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">AST transformations</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="fractional_math_ast.html"> Fractional math (AST)</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Bytecode transformations</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="bytecode.html"> Confused math (Bytecode)</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">More complex examples</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="constants.html"> True constants</a></li>
<li class="toctree-l1"><a class="reference internal" href="excluded.html"> Examples never included - first draft</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Custom encodings</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="lambda.html"> Create your own codec</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Other modules</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="tokenize.html"> About tokens</a></li>
<li class="toctree-l1"><a class="reference internal" href="tokenize_notebook.html"> </a></li>
<li class="toctree-l1"><a class="reference internal" href="import_hook.html"> import_hook.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="console.html"> console.py</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">ideas</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Usage</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/usage.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul><div class="rst-breadcrumbs-buttons" role="navigation" aria-label="Sequential page navigation">
        <a href="motivation.html" class="btn btn-neutral float-left" title="Additional motivation for this project" accesskey="p"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="function_keyword.html" class="btn btn-neutral float-right" title="Create your first import hook" accesskey="n">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
  </div>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<section id="usage">
<h1>Usage<a class="headerlink" href="#usage" title="Permalink to this headline"></a></h1>
<div class="admonition-hello-world admonition">
<p class="admonition-title">Hello World!</p>
<p>All the examples below, as well as a few other mentioned later,
are based on an import hook which makes
it possible to use the word <code class="docutils literal notranslate"><span class="pre">function</span></code> as being equivalent
to the Python keyword <code class="docutils literal notranslate"><span class="pre">lambda</span></code>.</p>
<p>Think of this simple example as the <code class="docutils literal notranslate"><span class="pre">&quot;Hello</span> <span class="pre">World!&quot;</span></code> for this project.</p>
</div>
<section id="basic-usage">
<h2>Basic usage<a class="headerlink" href="#basic-usage" title="Permalink to this headline"></a></h2>
<p>Suppose that you want to use <code class="docutils literal notranslate"><span class="pre">function</span></code> as a keyword in Python, to mean
the same thing as <code class="docutils literal notranslate"><span class="pre">lambda</span></code>, enabling you to write:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># my_program.py</span>

<span class="n">square</span> <span class="o">=</span> <span class="n">function</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">square</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="si">}</span><span class="s2"> is the square of 4.&quot;</span><span class="p">)</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;And the square of 5 is </span><span class="si">{</span><span class="n">square</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>You can run this program in a terminal as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span> <span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">ideas</span> <span class="n">my_program</span> <span class="o">-</span><span class="n">a</span> <span class="n">function_keyword</span>
<span class="mi">16</span> <span class="ow">is</span> <span class="n">the</span> <span class="n">square</span> <span class="n">of</span> <span class="mf">4.</span>
<span class="n">And</span> <span class="n">the</span> <span class="n">square</span> <span class="n">of</span> <span class="mi">5</span> <span class="ow">is</span> <span class="mi">25</span>
</pre></div>
</div>
<p>The argument following <code class="docutils literal notranslate"><span class="pre">-a</span></code> is the name of a module that contains
a function named <code class="docutils literal notranslate"><span class="pre">add_hook</span></code>.  A search for such a module is first
done in the current directory. If the module is not found in the
current directory, it is assumed to exists in the <code class="docutils literal notranslate"><span class="pre">ideas.examples</span></code>
directory included with <strong>ideas</strong>.</p>
<p>You may have noticed in the above that <code class="docutils literal notranslate"><span class="pre">my_program</span></code> does not
include a <code class="docutils literal notranslate"><span class="pre">.py</span></code> extension. This is because <code class="docutils literal notranslate"><span class="pre">my_program</span></code> is imported:
Python <strong>import hooks</strong>, by definition, only work on modules that are
imported. Yet, you may have also noticed that it is imported with
the name <code class="docutils literal notranslate"><span class="pre">'__main__'</span></code>, so that it is run as though it is the main script.</p>
<aside class="sidebar">
<p class="sidebar-title">.py extension?</p>
<p>Ideas is quite forgiving. If you invoke it adding a <code class="docutils literal notranslate"><span class="pre">.py</span></code> extension
to the main script, as in:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&gt; python -m ideas my_program.py -a function_keyword
</pre></div>
</div>
<p>it will work the same way as if you left out the <code class="docutils literal notranslate"><span class="pre">.py</span></code> extension.</p>
</aside>
</section>
<section id="using-the-ideas-enabled-interactive-console">
<h2>Using the ideas-enabled interactive console<a class="headerlink" href="#using-the-ideas-enabled-interactive-console" title="Permalink to this headline"></a></h2>
<p>Ideas comes with its own interactive console.  Here’s a sample session:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span> <span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">ideas</span> <span class="o">-</span><span class="n">a</span> <span class="n">function_keyword</span>
<span class="n">Ideas</span> <span class="n">Console</span> <span class="n">version</span> <span class="mf">0.0.31</span><span class="o">.</span> <span class="p">[</span><span class="n">Python</span> <span class="n">version</span><span class="p">:</span> <span class="mf">3.10.2</span><span class="p">]</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">cube</span> <span class="o">=</span> <span class="n">function</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">**</span><span class="mi">3</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">cube</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="mi">27</span>
</pre></div>
</div>
<p>Just like with the normal CPython console, using the -i flag,
you can run a main script and continue with the interactive console:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span> <span class="n">python</span> <span class="o">-</span><span class="n">im</span> <span class="n">ideas</span> <span class="n">my_program</span><span class="o">.</span><span class="n">py</span> <span class="o">-</span><span class="n">a</span> <span class="n">function_keyword</span>
<span class="mi">16</span> <span class="ow">is</span> <span class="n">the</span> <span class="n">square</span> <span class="n">of</span> <span class="mf">4.</span>
<span class="n">And</span> <span class="n">the</span> <span class="n">square</span> <span class="n">of</span> <span class="mi">5</span> <span class="ow">is</span> <span class="mi">25</span>
<span class="n">Ideas</span> <span class="n">Console</span> <span class="n">version</span> <span class="mf">0.0.31</span><span class="o">.</span> <span class="p">[</span><span class="n">Python</span> <span class="n">version</span><span class="p">:</span> <span class="mf">3.10.2</span><span class="p">]</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">square</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span>
<span class="mi">36</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">cube</span> <span class="o">=</span> <span class="n">function</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">**</span><span class="mi">3</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">cube</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span>
<span class="mi">216</span>
</pre></div>
</div>
</section>
<section id="using-with-ipython-or-jupyter-notebook-lab">
<h2>Using with IPython or Jupyter notebook/lab<a class="headerlink" href="#using-with-ipython-or-jupyter-notebook-lab" title="Permalink to this headline"></a></h2>
<p>You can also use it with IPython, either in a terminal or in a Jupyter environment.
Here is an example using IPython in a terminal.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="n">In</span> <span class="p">[</span><span class="mi">1</span><span class="p">]:</span> <span class="kn">from</span> <span class="nn">ideas.examples</span> <span class="kn">import</span> <span class="n">function_keyword</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">2</span><span class="p">]:</span> <span class="n">function_keyword</span><span class="o">.</span><span class="n">add_hook</span><span class="p">()</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">2</span><span class="p">]:</span> <span class="o">&lt;</span><span class="n">IdeasMetaFinder</span> <span class="nb">object</span> <span class="k">for</span> <span class="n">ideas</span><span class="o">.</span><span class="n">examples</span><span class="o">.</span><span class="n">function_keyword</span><span class="o">&gt;</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">3</span><span class="p">]:</span> <span class="n">cube</span> <span class="o">=</span> <span class="n">function</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">**</span> <span class="mi">3</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">4</span><span class="p">]:</span> <span class="n">cube</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">4</span><span class="p">]:</span> <span class="mi">27</span>
</pre></div>
</div>
</section>
<section id="starting-from-a-standard-cpython-interpreter">
<h2>Starting from a standard CPython interpreter<a class="headerlink" href="#starting-from-a-standard-cpython-interpreter" title="Permalink to this headline"></a></h2>
<p>Unlike the IPython interactive interpreter (aka ‘shell’), the CPython
interpreter does not support directly transformations done by ideas.
It is however possible to start the ideas console from the CPython
interactive interpreter.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ideas.examples</span> <span class="kn">import</span> <span class="n">function_keyword</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">function_keyword</span><span class="o">.</span><span class="n">add_hook</span><span class="p">()</span>
<span class="go">&lt;IdeasMetaFinder object for ideas.examples.function_keyword&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ideas</span> <span class="kn">import</span> <span class="n">console</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">console</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
<span class="go">Ideas Console version 0.0.34. [Python version: 3.10.2]</span>

<span class="go">~&gt;&gt; sq = function x: x**2</span>
<span class="go">~&gt;&gt; sq(3)</span>
<span class="go">9</span>
</pre></div>
</div>
<p>In this case, the ideas prompt <code class="docutils literal notranslate"><span class="pre">~&gt;&gt;</span></code> is different from the CPython one.</p>
</section>
<section id="using-with-pypy">
<h2>Using with Pypy<a class="headerlink" href="#using-with-pypy" title="Permalink to this headline"></a></h2>
<p>According to a few quick tests we did, <strong>ideas</strong> works with Pypy just
as well as it does with CPython.</p>
</section>
<section id="advanced-usage">
<h2>Advanced usage<a class="headerlink" href="#advanced-usage" title="Permalink to this headline"></a></h2>
<p>Information about more advanced usage can be found in this documentation.
You can also do the following in a terminal:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">ideas</span> <span class="o">-</span><span class="n">h</span>
</pre></div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="motivation.html" class="btn btn-neutral float-left" title="Additional motivation for this project" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="function_keyword.html" class="btn btn-neutral float-right" title="Create your first import hook" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020, André Roberge.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>