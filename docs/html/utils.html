

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>utils.py &mdash; ideas 0.0.3 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="console.py" href="console.html" />
    <link rel="prev" title="import_hook.py" href="import_hook.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> ideas
          

          
          </a>

          
            
            
              <div class="version">
                0.0.3
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="motivation.html"> Additional motivation -first draft</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage.html"> Usage - first draft</a></li>
<li class="toctree-l1"><a class="reference internal" href="as_main.html"> Importing a module as main - todo</a></li>
<li class="toctree-l1"><a class="reference internal" href="possible.html"> Overview of all possibilities - todo</a></li>
<li class="toctree-l1"><a class="reference internal" href="excluded.html"> Examples never included - first draft</a></li>
</ul>
<p class="caption"><span class="caption-text">Examples</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="function_simplest.html"> function as a keyword - part 1 - first draft</a></li>
<li class="toctree-l1"><a class="reference internal" href="function.html"> function as a keyword - part 2 - todo</a></li>
<li class="toctree-l1"><a class="reference internal" href="nobreak.html"> nobreak as a keyword - todo</a></li>
<li class="toctree-l1"><a class="reference internal" href="french.html"> French Python - todo</a></li>
<li class="toctree-l1"><a class="reference internal" href="lambda.html"> λ encoding - todo</a></li>
<li class="toctree-l1"><a class="reference internal" href="repeat.html"> repeat as a keyword - todo</a></li>
<li class="toctree-l1"><a class="reference internal" href="ast.html"> Simple AST transformation - todo</a></li>
<li class="toctree-l1"><a class="reference internal" href="bytecode.html"> Simple bytecode transformation - todo</a></li>
<li class="toctree-l1"><a class="reference internal" href="switch.html"> Pythonic switch statement - todo</a></li>
<li class="toctree-l1"><a class="reference internal" href="constants.html"> True constants - introduction done</a></li>
<li class="toctree-l1"><a class="reference internal" href="json.html"> Json module - todo</a></li>
<li class="toctree-l1"><a class="reference internal" href="pep_505.html"> PEP 505: None-aware operators - todo</a></li>
<li class="toctree-l1"><a class="reference internal" href="non_files.html"> Import from non-standard locations - todo</a></li>
</ul>
<p class="caption"><span class="caption-text">API</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="import_hook.html"> import_hook.py</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#"> utils.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="console.html"> console.py</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">ideas</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content style-external-links">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>utils.py</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/utils.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <div class="rst-breadcrumbs-buttons" role="navigation" aria-label="breadcrumb navigation">
      
        <a href="console.html" class="btn btn-neutral float-right" title="console.py" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="import_hook.html" class="btn btn-neutral float-left" title="import_hook.py" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
  </div>
  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-ideas.utils">
<span id="utils-py"></span><h1>utils.py<a class="headerlink" href="#module-ideas.utils" title="Permalink to this headline">¶</a></h1>
<p>utils.py</p>
<p>A few useful objects which do not naturally fit anywhere else.</p>
<dl class="class">
<dt id="ideas.utils.Token">
<em class="property">class </em><code class="sig-prename descclassname">ideas.utils.</code><code class="sig-name descname">Token</code><span class="sig-paren">(</span><em class="sig-param">token</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ideas/utils.html#Token"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ideas.utils.Token" title="Permalink to this definition">¶</a></dt>
<dd><p>Token as generated from tokenize.generate_tokens written here in
a more convenient form for our purpose. The various
paramters are:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">type</span><span class="p">:</span> <span class="n">token</span> <span class="nb">type</span>
<span class="n">string</span><span class="p">:</span> <span class="n">the</span> <span class="n">token</span> <span class="n">written</span> <span class="k">as</span> <span class="n">a</span> <span class="n">string</span>
<span class="n">start</span> <span class="o">=</span> <span class="p">(</span><span class="n">start_row</span><span class="p">,</span> <span class="n">start_col</span><span class="p">)</span>
<span class="n">end</span> <span class="o">=</span> <span class="p">(</span><span class="n">end_row</span><span class="p">,</span> <span class="n">end_col</span><span class="p">)</span>
<span class="n">line</span><span class="p">:</span> <span class="n">entire</span> <span class="n">line</span> <span class="n">of</span> <span class="n">code</span> <span class="n">where</span> <span class="n">the</span> <span class="n">token</span> <span class="ow">is</span> <span class="n">found</span><span class="o">.</span>
</pre></div>
</div>
<dl class="method">
<dt id="ideas.utils.Token.is_comment">
<code class="sig-name descname">is_comment</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ideas/utils.html#Token.is_comment"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ideas.utils.Token.is_comment" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if the token is a comment</p>
</dd></dl>

<dl class="method">
<dt id="ideas.utils.Token.is_identifier">
<code class="sig-name descname">is_identifier</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ideas/utils.html#Token.is_identifier"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ideas.utils.Token.is_identifier" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if the token is a Python identifier and not a Python keyword</p>
</dd></dl>

<dl class="method">
<dt id="ideas.utils.Token.is_keyword">
<code class="sig-name descname">is_keyword</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ideas/utils.html#Token.is_keyword"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ideas.utils.Token.is_keyword" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if the token represents a Python keyword.</p>
</dd></dl>

<dl class="method">
<dt id="ideas.utils.Token.is_space">
<code class="sig-name descname">is_space</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ideas/utils.html#Token.is_space"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ideas.utils.Token.is_space" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if the token indicates a change in indentation,
the end of a line, or the end of the source.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="ideas.utils.get_first_nonspace_token_index">
<code class="sig-prename descclassname">ideas.utils.</code><code class="sig-name descname">get_first_nonspace_token_index</code><span class="sig-paren">(</span><em class="sig-param">tokens</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ideas/utils.html#get_first_nonspace_token_index"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ideas.utils.get_first_nonspace_token_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a list of tokens, find the index of the first one which is
not a space token (such as a newline, indent, dedent, etc.)</p>
<p>return -1 if none is found.</p>
</dd></dl>

<dl class="function">
<dt id="ideas.utils.get_lines_of_tokens">
<code class="sig-prename descclassname">ideas.utils.</code><code class="sig-name descname">get_lines_of_tokens</code><span class="sig-paren">(</span><em class="sig-param">source</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ideas/utils.html#get_lines_of_tokens"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ideas.utils.get_lines_of_tokens" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes a list of lists of tokens, with each (inner) list containing
all the tokens found on a given line.</p>
</dd></dl>

<dl class="function">
<dt id="ideas.utils.get_number_nonspace_tokens">
<code class="sig-prename descclassname">ideas.utils.</code><code class="sig-name descname">get_number_nonspace_tokens</code><span class="sig-paren">(</span><em class="sig-param">tokens</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ideas/utils.html#get_number_nonspace_tokens"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ideas.utils.get_number_nonspace_tokens" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a list of tokens, gives a count of the number of
tokens which are NOT space tokens (such as newline, indent, dedent, etc.)</p>
</dd></dl>

<dl class="function">
<dt id="ideas.utils.print_paths">
<code class="sig-prename descclassname">ideas.utils.</code><code class="sig-name descname">print_paths</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ideas/utils.html#print_paths"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ideas.utils.print_paths" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints the values of the path abbreviations used in shorten_path().</p>
</dd></dl>

<dl class="function">
<dt id="ideas.utils.print_tokens">
<code class="sig-prename descclassname">ideas.utils.</code><code class="sig-name descname">print_tokens</code><span class="sig-paren">(</span><em class="sig-param">source</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ideas/utils.html#print_tokens"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ideas.utils.print_tokens" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints tokens found in source, excluding spaces and comments.</p>
<p>Source is either a string to be tokenized, or a list of tokens.</p>
<p>This is occasionally useful as a debugging tool.</p>
</dd></dl>

<dl class="function">
<dt id="ideas.utils.shorten_path">
<code class="sig-prename descclassname">ideas.utils.</code><code class="sig-name descname">shorten_path</code><span class="sig-paren">(</span><em class="sig-param">path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ideas/utils.html#shorten_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ideas.utils.shorten_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Utility function used to reduce the length of the path shown
to a user. For example, a path for a module in the Python
standard library might be shown as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PYTHON</span><span class="p">:</span><span class="o">/</span><span class="n">module</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<p>whereas a file found in the user’s root directory might be shown
as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">~/</span><span class="nb">dir</span><span class="o">/</span><span class="n">file</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="ideas.utils.tokenize_source">
<code class="sig-prename descclassname">ideas.utils.</code><code class="sig-name descname">tokenize_source</code><span class="sig-paren">(</span><em class="sig-param">source</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ideas/utils.html#tokenize_source"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ideas.utils.tokenize_source" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes a list of tokens from a source (str).</p>
</dd></dl>

<dl class="function">
<dt id="ideas.utils.untokenize">
<code class="sig-prename descclassname">ideas.utils.</code><code class="sig-name descname">untokenize</code><span class="sig-paren">(</span><em class="sig-param">tokens</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ideas/utils.html#untokenize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ideas.utils.untokenize" title="Permalink to this definition">¶</a></dt>
<dd><p>Return source code based on tokens.</p>
<p>This is similar to Python’s tokenize.untokenize(), except that it
preserves spacing between tokens, by using the <code class="docutils literal notranslate"><span class="pre">line</span></code>
information recorded by Python’s <code class="docutils literal notranslate"><span class="pre">tokenize.generate_tokens</span></code>.
As a result, if the original soure code had multiple spaces between
some tokens or if escaped newlines were used, those things will be
reflected by <code class="docutils literal notranslate"><span class="pre">untokenize</span></code>.</p>
<p>If a given item is a string instead of a Token object, it is simply
added as is.</p>
<p>IMPORTANT: do not remove a token from the original list of
tokens prior to calling untokenize; instead, set its string attribute
to an empty string.</p>
<p>Note that if some tokens are changed, the <code class="docutils literal notranslate"><span class="pre">line</span></code> information will
no longer reflect the content and the reconstructed content may
no longer be valid, unless some special procedures have been followed
when replacing original tokens by new ones. See the documentation
for examples.</p>
<p>Adapted from <a class="reference external" href="https://github.com/myint/untokenize">https://github.com/myint/untokenize</a></p>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="console.html" class="btn btn-neutral float-right" title="console.py" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="import_hook.html" class="btn btn-neutral float-left" title="import_hook.py" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, André Roberge

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>